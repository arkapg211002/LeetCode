{"id":885667693,"lang":"java","lang_name":"Java","time":"3 months, 1 week","timestamp":1674739867,"status":10,"status_display":"Accepted","runtime":"87 ms","url":"/submissions/detail/885667693/","is_pending":"Not Pending","title":"Cheapest Flights Within K Stops","memory":"52.2 MB","code":"class Solution {\n    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int k) {\n        \n        // Build graph\n        // node -> [[neighbor,distance]]\n        Map<Integer, List<int[]>> graph = new HashMap<>();\n        for(int i = 0; i < n; i++) graph.put(i, new ArrayList<>());\n        \n        for(int[] flight : flights) {\n            int u = flight[0];\n            int v = flight[1];\n            int w = flight[2];\n            graph.get(u).add(new int[] {v, w});\n        }\n        \n        // int[] -> [node, distance, moves] for every index\n        Queue<int[]> pq = new PriorityQueue<>((a, b) -> a[1] - b[1]);\n        int[] distance = new int[n];\n        Arrays.fill(distance, -1);\n\n        int[] maxMovesUpToNode = new int[n];\n        Arrays.fill(maxMovesUpToNode, Integer.MAX_VALUE);\n\n        // Initial mark\n        distance[src] = 0;\n        pq.offer(new int[] {src, 0, 0});\n        \n        // Run Relaxation Algorithm\n        while(!pq.isEmpty()) {\n            int[] element = pq.poll();\n            int node = element[0];\n            int dis = element[1];\n            int moves = element[2];\n\n            if(maxMovesUpToNode[node] < moves) continue;\n            maxMovesUpToNode[node] = moves;\n            \n            for(int[] edge : graph.get(node)) {\n                int neighbor = edge[0], weight = edge[1];\n                \n                int neighborNewDistance = weight + dis;\n                if(distance[neighbor] == -1 || neighborNewDistance < distance[neighbor]) {\n                    distance[neighbor] = neighborNewDistance;\n                }\n                // If we have moves left.\n                if(k != moves) {\n                    pq.offer(new int[] {neighbor, neighborNewDistance, moves + 1});\n                }\n            }\n        }\n        \n        \n        return distance[dst];\n    }\n}","compare_result":"1111111111111111111111111111111111111111111111111111","title_slug":"cheapest-flights-within-k-stops","has_notes":false}